import{_ as Q,m as ne,w as Y,a as X,a7 as le,r as _,G as J,z as K,s as U,a8 as de,e as i,o as n,j as l,F as S,A as T,f as F,H as L,k as ae,v as R,g as e,i as P,h as w,I as Z,n as O,J as oe,x as N,O as ee,y as te,q as pe,t as se,L as ve,a9 as re,aa as me,d as V,U as G,ab as fe,ac as he,ad as ge,ae as ye,Q as be,B as xe,af as ke,u as we,ag as $e,c as Ce,ah as Me,b as Pe,ai as je,aj as Ee}from"./C8HeO312.js";import{u as D,s as Ne}from"./CR6UzthO.js";import{_ as Be}from"./CNlAX92q.js";import{_ as He}from"./ZKm2z1l2.js";const Le={class:"wrapper -small -padded content-wrapper"},Se={class:"categories-list"},Te={class:"secteurs-list"},Fe={class:"title"},Ie=["innerHTML"],Re={class:"wrapper -large -padded cover-wrapper"},Oe={class:"award"},qe={__name:"Header",async setup(s){var k;let o,p;const{$SplitText:a,$browserDetect:c}=ne(),t=D(),{data:m}=([o,p]=Y(()=>X(le)),o=await o,p(),o),f=_([]);t.value.secteurs&&t.value.secteurs.forEach(r=>{m.value.result.fields.secteurs.options[r]&&f.value.push({slug:r,title:m.value.result.fields.secteurs.options[r]})});const d=t.value.cover.type==="video"&&t.value.fallback_cover?t.value.fallback_cover:t.value.cover||((k=t.value.images)==null?void 0:k[0]),v=_(null),y=_(null),b=_(null),x=_(null),$=_(null),h=_(null),{width:B,height:j}=J(d.width,d.height,1600),{isMobile:u}=K();return U(()=>{de(()=>{if(!u.value&&!c().isSafari){const r=new a(y.value,{type:"lines",linesClass:"line"});r.lines.forEach((g,I)=>{g.style.setProperty("--index",I)}),b&&b.value&&b.value.style.setProperty("--index",r.lines.length+4),x&&x.value&&x.value.style.setProperty("--index",r.lines.length+1),$&&$.value&&$.value.style.setProperty("--index",r.lines.length+1),h&&h.value&&h.value.style.setProperty("--index",r.lines.length+1)}setTimeout(()=>{v.value.classList.add("-appeared")},20)})}),(r,g)=>{const I=ee,W=te,q=Z;return n(),i("div",{class:"project-header",style:N(`background-color:${e(t).color}`),ref_key:"el",ref:v},[l("div",Le,[l("div",{class:"categories flex -align-center",ref_key:"categorie",ref:$},[l("div",Se,[(n(!0),i(S,null,T(e(t).categories,({id:C,slug:E,title:H})=>(n(),F(I,{to:{name:"slug",params:{slug:E}}},{default:L(()=>[ae(R(H),1)]),_:2},1032,["to"]))),256))]),l("div",Te,[(n(!0),i(S,null,T(e(f),({slug:C,title:E})=>(n(),F(I,{to:{name:"secteurs-secteurSlug",params:{secteurSlug:C}}},{default:L(()=>[ae(R(E),1)]),_:2},1032,["to"]))),256))])],512),l("h1",Fe,[l("span",{class:"title-6 client",ref_key:"client",ref:h},R(e(t).client),513),l("span",{class:"title-2 real-title",ref_key:"titleH1",ref:y,innerHTML:e(t).long_title},null,8,Ie)])]),l("div",Re,[e(t)&&e(t).awards&&e(t).awards.length?(n(),i("div",{key:0,class:"awards",ref_key:"awards",ref:b},[(n(!0),i(S,null,T(e(t).awards,C=>(n(),i("div",Oe,[C&&typeof C=="string"?(n(),F(W,{key:0,name:`awards/${C}`},null,8,["name"])):P("",!0)]))),256))],512)):P("",!0),e(d)?(n(),i("div",{key:1,class:"ratio-wrapper image -video",ref_key:"image",ref:x},[w(oe,{"y-to":100,"y-from":-100,"is-mask":!0,class:O("full")},{default:L(()=>[w(q,{src:e(d).id,provider:"FCINQProvider",alt:e(d).alt||`${e(t).client} - ${e(t).title}`,width:e(B),height:e(j),class:"full cover"},null,8,["src","alt","width","height"])]),_:1})],512)):P("",!0)])],4)}}},Ve=Q(qe,[["__scopeId","data-v-4917cdfc"]]),We={key:0,class:"projet-challenge wrapper -small -padded"},ze={class:"inner"},Ae=["innerHTML"],Qe={__name:"Intro",setup(s){const o=D(),{$SplitText:p,$browserDetect:a}=ne(),c=_(null),t=_(!1),m=pe(c,{threshold:.5}),{isMobile:f}=K();return se(m,()=>{t.value=!0},{once:!0}),U(()=>{!f.value&&!a().isSafari&&new p(c.value,{type:"lines",linesClass:"line"}).lines.forEach((v,y)=>{v.style.setProperty("--index",y)})}),(d,v)=>e(o).challenge?(n(),i("div",We,[l("div",ze,[l("div",{class:O(["text text-in-block title-4",{"-appeared":e(t)}]),ref_key:"challenge",ref:c,innerHTML:e(o).challenge},null,10,Ae)])])):P("",!0)}},De=Q(Qe,[["__scopeId","data-v-6113b886"]]),Ye={class:"projet-summary"},Xe={class:"wrapper -large summary-wrapper"},Ge={class:"wrapper -small -padded"},Je={class:"grid -three"},Ke=["innerHTML"],Ue={class:"col -one -right title-7 expertises-list"},Ze={key:0,class:"wrapper -small image-wrapper -full"},et={__name:"Summary",async setup(s){var y,b,x,$,h,B,j,u;let o,p;const a=D(),{data:c}=([o,p]=Y(()=>X(le)),o=await o,p(),o);let t=[];for(let k in c.value.result.fields.expertises.options){let r=c.value.result.fields.expertises.options[k];t.push({slug:k,label:r})}const{width:m,height:f}=J(((b=(y=a.value)==null?void 0:y.image_en_bref)==null?void 0:b.width)??0,(($=(x=a.value)==null?void 0:x.image_en_bref)==null?void 0:$.height)??0,1280),{width:d,height:v}=J(((B=(h=a.value)==null?void 0:h.fallback_image_en_bref)==null?void 0:B.width)??0,((u=(j=a.value)==null?void 0:j.fallback_image_en_bref)==null?void 0:u.height)??0,1280);return(k,r)=>{const g=ve,I=Z,W=re,q=oe;return n(),i("div",Ye,[l("div",Xe,[l("div",Ge,[w(g,{text:"EN BREF • EN BREF • EN BREF • EN BREF • EN BREF • ","translate-z":150}),l("div",Je,[l("div",{class:"col -two -left body bullet-points",innerHTML:e(a).bullet_points},null,8,Ke),l("div",Ue,[l("ul",null,[(n(!0),i(S,null,T(e(a).expertises,C=>{var E;return n(),i("li",null,R((E=e(t).find(H=>C===H.slug))==null?void 0:E.label),1)}),256))])])])])]),e(a).image_en_bref?(n(),i("div",Ze,[w(q,{"y-to":"-100","y-from":"40"},{default:L(()=>{var C,E;return[e(a).image_en_bref.type&&e(a).image_en_bref.type==="image"?(n(),F(I,{key:0,provider:"FCINQProvider",src:e(a).image_en_bref.id??"",width:e(m),height:e(f),alt:((E=(C=e(a))==null?void 0:C.image_en_bref)==null?void 0:E.alt)||`${e(a).client} - En bref`,loading:"lazy"},null,8,["src","width","height","alt"])):e(a).image_en_bref.type&&e(a).image_en_bref.type==="video"&&e(a).fallback_image_en_bref?(n(),i("div",{key:1,class:"image-wrapper",style:N({aspectRatio:`${e(d)}/${e(v)}`})},[w(W,{video:e(a).image_en_bref||null,poster:e(a).fallback_image_en_bref||null},null,8,["video","poster"])],4)):P("",!0)]}),_:1})])):P("",!0)])}}},tt=Q(et,[["__scopeId","data-v-79fb0b47"]]),st=me({__name:"Marquee",props:{style:{default:()=>()=>({})},class:{default:""},autoFill:{type:Boolean,default:!1},play:{type:Boolean,default:!0},pauseOnHover:{type:Boolean,default:!1},pauseOnClick:{type:Boolean,default:!1},direction:{default:"left"},speed:{default:50},delay:{default:0},loop:{default:0},gradient:{type:Boolean,default:!1},gradientColor:{default:"white"},gradientWidth:{default:200}},emits:["finish","cycleComplete"],setup(s,{emit:o}){const p=o,a=_(),c=_(),t=_(0),m=_(0),f=_(1),d=_(!1),v=_(),y=V(()=>s.autoFill?m.value*f.value/s.speed:m<t?t.value/s.speed:m.value/s.speed),b=V(()=>({...s.style,"--pause-on-hover":!s.play||s.pauseOnHover?"paused":"running","--pause-on-click":!s.play||s.pauseOnHover&&!s.pauseOnClick||s.pauseOnClick?"paused":"running","--width":s.direction==="up"||s.direction==="down"?"100vh":"100%","--transform":s.direction==="up"?"rotate(-90deg)":s.direction==="down"?"rotate(90deg)":"none"})),x=V(()=>({"--gradient-color":s.gradientColor,"--gradient-width":typeof s.gradientWidth=="number"?`${s.gradientWidth}px`:s.gradientWidth})),$=V(()=>({"--play":s.play?"running":"paused","--direction":s.direction==="left"?"normal":"reverse","--duration":`${y.value}s`,"--delay":`${s.delay}s`,"--iteration-count":s.loop?`${s.loop}`:"infinite","--min-width":s.autoFill?"auto":"100%"})),h=V(()=>({"--transform":s.direction==="up"?"rotate(90deg)":s.direction==="down"?"rotate(-90deg)":"none"})),B=()=>{if(c.value&&a.value){const u=a.value.getBoundingClientRect(),k=c.value.getBoundingClientRect();let r=u.width,g=k.width;(s.direction==="up"||s.direction==="down")&&(r=u.height,g=k.height),s.autoFill&&r&&g?f.value=g<r?Math.ceil(r/g):1:f.value=1,t.value=r,m.value=g}},j=u=>[...Array(Number.isFinite(u)&&u>=0?u:0)];return se([()=>s.autoFill,()=>s.direction,d,a],()=>{d.value&&(B(),c.value&&a.value&&(v.value&&v.value.disconnect(),v.value=new ResizeObserver(()=>B()),v.value.observe(a.value),v.value.observe(c.value)))}),U(()=>{d.value=!0}),(u,k)=>d.value?(n(),i("div",{key:0,ref_key:"containerRef",ref:a,class:O(["vfm-marquee-container",s.class]),style:N(b.value)},[u.gradient?(n(),i("div",{key:0,style:N(x.value),class:"vfm-overlay"},null,4)):P("",!0),l("div",{class:"vfm-marquee",style:N($.value),onAnimationiteration:k[0]||(k[0]=r=>p("cycleComplete")),onAnimationend:k[1]||(k[1]=r=>p("finish"))},[l("div",{style:N(h.value),class:"vfm-parent",ref_key:"marqueeRef",ref:c},[G(u.$slots,"default")],4),(n(!0),i(S,null,T(j(f.value-1),r=>(n(),i("div",{style:N(h.value),class:"vfm-parent"},[G(u.$slots,"default")],4))),256))],36),l("div",{class:"vfm-marquee",style:N($.value)},[(n(!0),i(S,null,T(j(f.value),r=>(n(),i("div",{style:N(h.value),class:"vfm-parent"},[G(u.$slots,"default")],4))),256))],4)],6)):P("",!0)}}),at={name:"NuxtMarquee",emits:["finish","cycleComplete"],props:["style","class","autoFill","play","pauseOnHover","pauseOnClick","direction","speed","delay","loop","gradient","gradientColor","gradientWidth"],setup(s,{slots:o,emit:p}){return()=>fe(st,{...s,onCycleComplete:()=>p("cycleComplete"),onFinish:()=>p("finish")},o)}},nt={key:0,class:"projet-links"},lt={class:"grid -three"},ot={class:"col -two -left"},rt={class:"col -one -right flex -align-center"},it={class:"wrapper -small -padded"},ct={class:"grid -three"},ut={class:"col -two -left"},_t={class:"col -one -right flex -align-center"},dt={__name:"Links",setup(s){const o=D(),p=a=>(a=a.trim(),a.toLowerCase()==="site"?a="Voir le site en ligne":a.toLowerCase()==="instagram"&&(a="Voir le compte Instagram"),a);return(a,c)=>{const t=he,m=te,f=at,d=He,v=ee;return e(o).links&&e(o).links.length?(n(),i("div",nt,[w(t),(n(!0),i(S,null,T(e(o).links,({link:y,linktext:b,target:x})=>(n(),F(v,{class:"link-item",href:y,target:`${x==="true"?"_blank":"_self"}`},{default:L(()=>[w(d,{"front-classes":["wrapper","-small","-padded","title-4"],"back-classes":["title-4","full"]},{front:L(()=>[l("span",lt,[l("span",ot,R(p(b)),1),l("span",rt,[w(m,{name:"arrow_blank"})])])]),back:L(()=>[w(f,null,{default:L(()=>[(n(),i(S,null,T([0,1,2,3,4,5],$=>l("span",it,[l("span",ct,[l("span",ut,R(p(b)),1),l("span",_t,[w(m,{name:"arrow_blank"})])])])),64))]),_:2},1024)]),_:2},1024)]),_:2},1032,["href","target"]))),256))])):P("",!0)}}},pt=Q(dt,[["__scopeId","data-v-908e6591"]]),vt={key:0,class:"projet-next-project"},mt={class:"wrapper -large"},ft={class:"content"},ht={class:"project-title title-6"},gt={__name:"NextProject",async setup(s){var q,C,E;let o,p;const a=D(),{data:c}=([o,p]=Y(()=>X(ge(1,1e3))),o=await o,p(),o),t=_(null),m=_(null),f=_("à suivre"),{isMobile:d}=K(),v=_(!1),y=_(!1),b=_(null),x=_(!1),$=_(!1);c.value.result.children.data.forEach((H,M)=>{H.id===a.value.id&&(t.value=c.value.result.children.data[M+1],t||(t.value=c.value.result.children.data[0]))});const h=((q=t.value)==null?void 0:q.cover)||((E=(C=t.value)==null?void 0:C.images)==null?void 0:E[0]),{slug:B}=t.value??{},j=_(!1),u=_({x:0,y:0,both:0}),{scrollTop:k}=ye(),r=be({type:H=>typeof Touch<"u"&&H instanceof Touch?null:[H.clientX,H.clientY],touch:!1}),g=xe(m);se([r.x,r.y],H=>{if(!g.width.value)return;const M=r.x.value-g.centerLeft.value,z=r.y.value+k.value-g.centerTop.value;u.value.x=M,u.value.y=z,u.value.both=Math.sqrt(M*M+z*z),j.value=Math.abs(u.value.x)<g.width.value/2&&Math.abs(u.value.y)<g.height.value/2&&window.matchMedia("(hover: hover)").matches});const I=()=>{v.value=!0,$.value=!0},W=()=>{v.value=!1,setTimeout(()=>{$.value=!1},300)};return(H,M)=>{const z=Z,ie=re,ce=ee,ue=te;return e(t)?(n(),i("div",vt,[l("div",mt,[l("div",{class:O([{"-hover":e(v)&&!e(d)},"next-container flex"]),ref_key:"next_container",ref:m,onMouseenter:I,onMouseleave:W,style:N(`--bkg-color:${e(t).color}`)},[e(h)?(n(),i("div",{key:0,class:"img-wrapper",style:N(`--x:${e(j)?e(u).x:0}; --y:${e(j)?e(u).y:0}`)},[e(h).type==="image"?(n(),F(z,{key:0,loading:"lazy",src:e(h).id,provider:"FCINQProvider",alt:e(h).alt||`${e(t).client} - ${e(t).title}`,width:272,height:375,class:"full cover"},null,8,["src","alt"])):(n(),F(ie,{key:1,video:e(h)||null},null,8,["video"]))],4)):P("",!0),l("div",ft,[l("div",ht,R(e(t).title),1),l("span",{class:O([{"-hover":e(x)&&!e(d)},"char-container"])},[w(ce,{class:"title-display link-extend",to:{name:"projets-slug",params:{slug:e(B)}},onMouseenter:M[2]||(M[2]=A=>y.value=!0),onMouseleave:M[3]||(M[3]=A=>y.value=!1)},{default:L(()=>[l("span",{class:"chars",ref_key:"chars",ref:b,onMouseenter:M[0]||(M[0]=A=>x.value=!0),onMouseleave:M[1]||(M[1]=A=>x.value=!1)},[(n(!0),i(S,null,T(e(ke)(e(f),"left"),({index:A,char:_e})=>(n(),i("span",{class:"char",style:N(`--index:${A}`)},R(_e),5))),256))],544)]),_:1},8,["to"])],2),w(ue,{name:"arrow_right_stroke",class:O({"-post-hover":e($)&&!e(d)})},null,8,["class"])]),l("div",{class:O([{"-big":e(x)&&!e(d)},"cursor -blend"])},null,2)],38)])])):P("",!0)}}},yt=Q(gt,[["__scopeId","data-v-723661cc"]]),bt={key:0,class:"page -projet"},Ct={__name:"[...slug]",async setup(s){var f,d,v;let o,p;const a=we(),{data:c}=([o,p]=Y(()=>X($e(a.path))),o=await o,p(),o);if(!((f=c==null?void 0:c.value)!=null&&f.result))throw Ce({statusCode:404,statusMessage:"Page introuvable"});const t=(d=c.value)==null?void 0:d.result;t.cover.type==="video"&&t.fallback_cover?t.fallback_cover:t.cover||((v=t.images)==null||v[0]),Me(),Ne(t);const m=V(()=>{var y,b;return((b=(y=c.value)==null?void 0:y.result)==null?void 0:b.blocks)??[]});return Pe({bodyAttrs:{class:"page-projet"}}),(y,b)=>{var g;const x=Ve,$=De,h=tt,B=Be,j=pt,u=je,k=Ee,r=yt;return e(t)?(n(),i("div",bt,[w(x),w($),w(h),e(m)?(n(),F(B,{key:0,blocks:e(m)},null,8,["blocks"])):P("",!0),(g=e(t))!=null&&g.links?(n(),F(j,{key:1})):P("",!0),w(u),w(k,{"current-project":e(c).result,"slider-title":"Ça pourrait vous<br/> intéresser"},null,8,["current-project"]),w(r)])):P("",!0)}}};export{Ct as default};
