import{u as ie,_ as ue}from"./D-B-JkD2.js";import{_ as V,w as ce,a as de,a3 as pe,u as Q,e as o,o as s,j as _,n as M,g as e,h as f,H as P,O as X,F as q,A as H,d as F,v as Z,r as C,s as ee,i as m,f as E,I as ye,J as te,ao as ge,k as W,ap as me,aq as K,ar as _e,t as D,U as ve,x as ae,m as fe,$ as he,z as se,an as xe,C as Se,y as $e,X as ke,ae as be,D as Ce,as as B,Y as Te,Z as we,R as Ie}from"./C8HeO312.js";import{u as le}from"./CR6UzthO.js";const Le={class:"category-list"},Me={class:"category-scroller flex"},Pe={class:"label"},je={__name:"List",async setup(a){var u,k;let r,t;const{data:p}=([r,t]=ce(()=>de(pe)),r=await r,t(),r),h=Q(),b=(k=(u=p==null?void 0:p.value)==null?void 0:u.result)==null?void 0:k.filter(v=>v.disabled!=="true"||!v.disabled),y=v=>F(()=>{var x,g;return(g=(x=h.params)==null?void 0:x.slug)==null?void 0:g.includes(v)});return(v,x)=>{const g=X;return s(),o("div",Le,[_("ul",Me,[_("li",{class:M(["item",{"-active":e(h).name==="projets"}])},[f(g,{"data-text":"Tous les projets",class:"title-8 btn",to:{name:"projets"}},{default:P(()=>x[0]||(x[0]=[_("span",{class:"bg"},null,-1),_("span",{class:"label"},"Tous les projets",-1)])),_:1})],2),(s(!0),o(q,null,H(e(b),({slug:S,title:L,disabled:z})=>(s(),o("li",{class:M(["item",{"-active":y(S).value,"-disabled":z==="true"}])},[f(g,{"data-text":L,class:"title-8 btn",to:{name:"slug",params:{slug:S}}},{default:P(()=>[x[1]||(x[1]=_("span",{class:"bg"},null,-1)),_("span",Pe,Z(L),1)]),_:2},1032,["data-text","to"])],2))),256))])])}}},Ee=V(je,[["__scopeId","data-v-d247b9fa"]]),ze={class:"wrapper -large -padded grid"},Ne={key:0,class:"title title-display col -full"},qe=["innerHTML"],He=["innerHTML"],Fe=["innerHTML"],Re=["innerHTML"],Be={__name:"Push",props:{title:{type:[String,Array],required:!0},image:{type:{url:String,alt:String,width:Number,height:Number},required:!0},introduction:{type:String,required:!0},baseline:{type:String,required:!0},list:{type:String,required:!0}},setup(a){const r=a,{displayTitle:t}=ie(r.title),p=C(!1);return ee(()=>{p.value=!0}),(h,b)=>{const y=ye,u=te;return s(),o("div",{class:M(["expertise-push",{"-appeared":e(p)}])},[_("div",ze,[a.title?(s(),o("div",Ne,[(s(!0),o(q,null,H(e(t),k=>(s(),o("span",{class:"line",innerHTML:k},null,8,qe))),256)),a.image&&a.image.id?(s(),E(u,{key:0,"y-from":"100","y-to":"0",class:"image"},{default:P(()=>[f(y,{provider:"FCINQProvider",class:"contain",loading:"lazy",src:a.image.id,width:300,fit:"contain",height:300,alt:a.image.alt?a.image.alt:`Illustration de l'expertise ${e(t).join("")}`},null,8,["src","alt"])]),_:1})):m("",!0)])):m("",!0),a.baseline?(s(),o("div",{key:1,class:"baseline title-2 col -three",innerHTML:a.baseline},null,8,He)):m("",!0),a.introduction?(s(),o("div",{key:2,class:"introduction col -two",innerHTML:a.introduction},null,8,Fe)):m("",!0),a.list?(s(),o("div",{key:3,class:"list col -two title-8",innerHTML:a.list},null,8,Re)):m("",!0)])],2)}}},Ae=V(Be,[["__scopeId","data-v-75e3d1a7"]]);function Y(){return ge("app.pagination",()=>({}))}function pt(a){Y().value=a}const Ge={key:0,class:"nav-pagination"},Ve={__name:"Pagination",setup(a){const r=Q(),t=Y(),p=()=>r.name.replace("-page-pageNumber",""),h=y=>{const u=p();return y===1?u:`${u}-page-pageNumber`},b=y=>{const u={};return r.params.slug?u.slug=r.params.slug:r.params.secteurSlug&&(u.secteurSlug=r.params.secteurSlug),y!==1&&(u.pageNumber=y),u};return(y,u)=>{const k=X;return e(t)?(s(),o("div",Ge,[(s(!0),o(q,null,H(e(t).pages,v=>(s(),E(k,{key:v,to:{name:h(v),params:b(v)}},{default:P(()=>[W(Z(v),1)]),_:2},1032,["to"]))),128))])):m("",!0)}}},Oe={__name:"StickyElement",props:{parent:{required:!0},offsetTop:{type:Number,default:200}},setup(a){const r=a,t=C(null),p=F(()=>r.parent),{y:h}=me(),{height:b}=K(t),{height:y}=K(p),{top:u,left:k,right:v}=_e(p),x=F(()=>u.value+h.value-r.offsetTop),g=F(()=>x.value+y.value-b.value);D([y,b],()=>{x.value,g.value});const S=F(()=>h.value>=x.value&&h.value<=g.value?{top:`${r.offsetTop}px`,position:"fixed",left:`${k.value}px`,right:`${v.value}px`}:h.value>g.value?{position:"absolute",top:`${y.value-b.value}px`}:{position:"absolute",top:"0"});return(L,z)=>(s(),o("div",{ref_key:"sticky",ref:t,class:"sticky-to-parent",style:ae(e(S))},[ve(L.$slots,"default",{},void 0,!0)],4))}},Ue=V(Oe,[["__scopeId","data-v-7e4e65fb"]]),We={class:"content flex -direction-column -align-start"},Qe={__name:"LoadMore",props:{queryType:{type:String,required:!0}},emits:["loadedNewProjects"],setup(a,{emit:r}){const t=r,p=a,{$gsap:h,$CustomEase:b}=fe(),y=C([]),u=C([]),{public:{apiBaseUrl:k}}=he(),v=Y(),x=le(),g=C(1),S=C(!1),{isMobile:L}=se(),z=C(!1),O=Q(),U=F(()=>{switch(p.queryType){case"oldies":return`${k}/get-projects?taxonomy=oldies&category_slug=true&page=${g.value+1}`;case"category":return`${k}/get-projects?taxonomy=${Se}&category_slug=${x.value.id}&page=${g.value+1}`;case"secteurs":return`${k}/get-projects?taxonomy=${xe}&category_slug=${x.value.id}&page=${g.value+1}`;default:return`${k}/get-projects?page=${g.value+1}`}}),R=async d=>{d.preventDefault,S.value=!0;const n=await $fetch(U.value,{method:"POST"});setTimeout(()=>{var j,N,w;n!=null&&n.result&&(g.value=((N=(j=n.result)==null?void 0:j.pagination)==null?void 0:N.page)??g.value,t("loadedNewProjects",((w=n.result)==null?void 0:w.data)??[])),S.value=!1},600)},c=()=>{const d=["#plus-vertical","#plus-horizontal"];d.forEach(n=>{y.value.push(h.to(n,{duration:.3,morphSVG:`#loader-${n.includes("vertical")?"outer":"inner"}`,ease:"power2.inOut"}))}),setTimeout(()=>{d.forEach(n=>{u.value.push(h.to(n,{duration:1,rotation:n.includes("vertical")?360:-360,transformOrigin:"50% 50%",repeat:-1,ease:"linear"}))})},250)},A=d=>{h.to("#svg-plus",{duration:.4,rotation:`${d}deg`,ease:b.create("custom","M0,0 C0.012,0 0.039,-0.138 0.148,-0.138 0.466,-0.138 0.513,1.115 0.852,1.115 0.971,1.115 0.974,1 1,1 ")})},$=()=>{L.value||(z.value=!0,A(90))},i=()=>{L.value||(z.value=!1,A(0))},T=()=>{u.value.forEach(d=>d.restart()&&d.pause()),u.value=[],y.value.forEach((d,n)=>d.reverse()),y.value=[]};return D(()=>S.value,d=>d?c():T()),(d,n)=>{const j=$e;return!e(O).params.pageNumber&&e(v)&&e(v).pages>e(g)?(s(),o("button",{key:0,class:M([{"-hover":e(z)&&!e(L)},"project-load-more link"]),onClick:R,onMouseenter:$,onMouseleave:i},[n[1]||(n[1]=_("span",{class:"cursor"},null,-1)),_("span",We,[n[0]||(n[0]=_("span",{class:"label"},[W("Charger plus de "),_("br"),W(" projets")],-1)),_("i",null,[f(j,{class:"svg-plus",name:"plus"}),f(j,{class:"svg-loader","aria-hidden":"true",name:"loader"})])])],34)):m("",!0)}}},De=V(Qe,[["__scopeId","data-v-1bc1e3ae"]]),Ye=a=>{const r=a.getBoundingClientRect(),t=window.innerHeight||document.documentElement.clientHeight,p=window.innerWidth||document.documentElement.clientWidth,h=r.height/2,b=r.width/2,y=r.bottom>=h&&r.top<=t-h,u=r.right>=b&&r.left<=p-b;return y&&u},Je={class:"wrapper -large -padded"},Ke={key:0,class:"col -one -category"},Xe=["data-index"],Ze={key:1,class:"col area -area-expertise"},et={class:"col area -area-load-more"},tt={class:"sticky"},at={key:1,class:"grid first-projects"},st={class:"col -left -half -auto",ref:"colLeft"},lt={class:"col -right -half -auto",ref:"colRight"},ot={key:3,class:"grid"},nt={class:"col -left -half -auto",ref:"colLeft2"},rt={key:0,class:"col -right -half -auto",ref:"colRight2"},it={__name:"Grid",props:{categorySlug:{type:String,required:!1,default:()=>""},projects:{type:Array,required:!0},isSimple:{type:Boolean,required:!1,default:()=>!1},loadMoreQueryType:{type:String,required:!1,default:()=>"projects"}},setup(a){const r=a,t=le(),p=C(r.projects),h=C(!1),b=C(null),y=C(null),u=C(null),k=C(null),v=C(null),{isMobile:x,isTabletPortrait:g}=se(),{toggleListItemCursor:S,cursorColor:L,cursorVisibility:z}=ke(),{scrollTop:O}=be(),{height:U}=Ce(),R=F(()=>{const $=[...p.value].slice(r.isSimple?0:1).map((i,T)=>({...i,realIndex:T+1}));if(r.categorySlug){const i=$.slice(4);if(x.value)return{leftColFirst:$.slice(0,4),leftColSecond:i};{const T=$.slice(0,4).filter((N,w)=>w%2!==0),d=$.slice(0,4).filter((N,w)=>w%2===0),n=i.filter((N,w)=>w%2!==0),j=i.filter((N,w)=>w%2===0);return{leftColFirst:T,rightColFirst:d,leftColSecond:n,rightColSecond:j}}}if(x.value)return{leftColFirst:$};{const i=$.filter((d,n)=>n%2!==0),T=$.filter((d,n)=>n%2===0);return{leftColFirst:i,rightColFirst:T}}}),c=$=>F(()=>{const i=$>9?$%10+2:$,T={0:{colSize:"four",type:"highlight"},2:{colSize:"three",type:"big",parallax_y_from:60,parallax_y_to:-50},3:{colSize:"two",type:"landscape",parallax_y_from:60,parallax_y_to:-50},6:{colSize:"two",type:"landscape",parallax_y_from:60,parallax_y_to:-50},8:{colSize:"three",type:"big",parallax_y_from:60,parallax_y_to:-50},9:{colSize:"two",type:"landscape",parallax_y_from:60,parallax_y_to:-50}};return T.hasOwnProperty(i)?T[i]:{colSize:"two",type:"normal",parallax_y_from:0,parallax_y_to:0}}),A=$=>{$&&(p.value=[...p.value,...$])};return D(()=>O.value,()=>{g.value&&(!Ye(k.value)&&U.value/2<u.value.getBoundingClientRect().bottom?v.value&&v.value.classList.add("-shown"):v.value&&v.value.classList.remove("-shown"))}),ee(()=>{h.value=!0}),($,i)=>{const T=ue,d=Ee,n=Te,j=Ae,N=Ve,w=Ue,G=te,J=De,oe=we,ne=Ie;return s(),o("div",{class:M(["projects-grid",{"-category-active":a.categorySlug,"-simple":a.isSimple}]),ref_key:"projectsGrid",ref:u},[a.isSimple?m("",!0):(s(),E(T,{key:0,class:"-projets",title:"Proud [of]# these","second-title":e(t).title?e(t).title:null},null,8,["second-title"])),_("div",Je,[_("div",{class:"grid",style:ae({display:e(h)?"none":"grid"})},[a.isSimple?m("",!0):(s(),o("div",Ke,[f(d)])),(s(!0),o(q,null,H(e(p),(l,I)=>(s(),o("div",{ref_for:!0,ref:"cols",class:M(["col -auto -project",[`-${c(I).value.colSize}`,{"-added":I>9,"-top-shift":I===6&&!e(x)||l.realIndex===5&&e(x)}]]),"data-index":I},[f(n,{type:c(I).value.type,project:l,"display-category":!e(t).intendedTemplate||e(t).intendedTemplate!==e(B)},null,8,["type","project","display-category"])],10,Xe))),256)),a.categorySlug&&!a.isSimple?(s(),o("div",Ze,[f(j,{title:e(t).display_title?e(t).display_title:e(t).title??"",image:e(t).cover??{},baseline:e(t).baseline??"",introduction:e(t).introduction??"",list:e(t).bullet_points??""},null,8,["title","image","baseline","introduction","list"])])):m("",!0),_("div",et,[f(N)])],4),f(ne,null,{default:P(()=>[_("div",{ref_key:"grid",ref:y,class:"projects-grid-client flex -flow-wrap"},[_("div",{ref_key:"categoryListContainer",ref:b,class:"category-list-container"},[e(g)?m("",!0):(s(),E(w,{key:0,parent:e(y)},{default:P(()=>[_("div",tt,[a.isSimple?m("",!0):(s(),E(d,{key:0}))])]),_:1},8,["parent"])),_("div",{class:"tablet-container",ref_key:"categoryListTablet",ref:k},[!a.isSimple&&e(g)?(s(),E(d,{key:0})):m("",!0),e(g)?(s(),o("div",{key:1,class:"category-list-sticky",ref_key:"categoryListSticky",ref:v},[a.isSimple?m("",!0):(s(),E(d,{key:0}))],512)):m("",!0)],512)],512),!a.isSimple&&e(p).length?(s(),o("div",{key:0,class:M(["project",[`-${c(0).value.colSize}`]])},[f(G,{"y-to":c(0).value.parallax_y_to,"y-from":c(0).value.parallax_y_from},{default:P(()=>[f(n,{type:c(0).value.type,project:e(p)[0],onOutContent:i[0]||(i[0]=l=>e(S)(!1)),onEnterContent:i[1]||(i[1]=l=>e(S)(!0,{color:"#5e6473"})),"display-category":!e(t).intendedTemplate||e(t).intendedTemplate!==e(B)},null,8,["type","project","display-category"])]),_:1},8,["y-to","y-from"])],2)):m("",!0),e(p).length?(s(),o("div",at,[_("div",st,[(s(!0),o(q,null,H(e(R).leftColFirst,l=>(s(),o("div",{key:l.id,class:M(["project",[`-${c(l.realIndex).value.colSize}`]])},[f(G,{"y-to":c(l.realIndex).value.parallax_y_to,"y-from":c(l.realIndex).value.parallax_y_from},{default:P(()=>[f(n,{type:c(l.realIndex).value.type,project:l,"display-category":!e(t).intendedTemplate||e(t).intendedTemplate!==e(B),onMouseover:I=>e(S)(!0,l),onMouseleave:i[2]||(i[2]=I=>e(S)(!1))},null,8,["type","project","display-category","onMouseover"])]),_:2},1032,["y-to","y-from"])],2))),128)),a.categorySlug?m("",!0):(s(),E(J,{key:0,"query-type":a.loadMoreQueryType,onLoadedNewProjects:A},null,8,["query-type"]))],512),_("div",lt,[(s(!0),o(q,null,H(e(R).rightColFirst,l=>(s(),o("div",{key:l.id,class:M(["project",[`-${c(l.realIndex).value.colSize}`]])},[f(G,{"y-to":c(l.realIndex).value.parallax_y_to,"y-from":c(l.realIndex).value.parallax_y_from},{default:P(()=>[f(n,{type:c(l.realIndex).value.type,project:l,"display-category":!e(t).intendedTemplate||e(t).intendedTemplate!==e(B),onMouseover:I=>e(S)(!0,l),onMouseleave:i[3]||(i[3]=I=>e(S)(!1))},null,8,["type","project","display-category","onMouseover"])]),_:2},1032,["y-to","y-from"])],2))),128))],512)])):m("",!0),a.categorySlug&&!a.isSimple?(s(),E(j,{key:2,title:e(t).display_title?e(t).display_title:e(t).title??"",image:e(t).cover??{},baseline:e(t).baseline??"",introduction:e(t).introduction??"",list:e(t).bullet_points??""},null,8,["title","image","baseline","introduction","list"])):m("",!0),a.categorySlug?(s(),o("div",ot,[_("div",nt,[(s(!0),o(q,null,H(e(R).leftColSecond,l=>(s(),o("div",{key:l.id,class:M(["project",[`-${c(l.realIndex).value.colSize}`,{"-top-shift":l.realIndex===5}]])},[f(G,{"y-to":c(l.realIndex).value.parallax_y_to,"y-from":c(l.realIndex).value.parallax_y_from},{default:P(()=>[f(n,{type:c(l.realIndex).value.type,project:l,"display-category":!e(t).intendedTemplate||e(t).intendedTemplate!==e(B),onMouseover:I=>e(S)(!0,l),onMouseleave:i[4]||(i[4]=I=>e(S)(!1))},null,8,["type","project","display-category","onMouseover"])]),_:2},1032,["y-to","y-from"])],2))),128)),a.categorySlug?(s(),E(J,{key:0,"query-type":a.loadMoreQueryType,onLoadedNewProjects:A},null,8,["query-type"])):m("",!0)],512),a.categorySlug?(s(),o("div",rt,[(s(!0),o(q,null,H(e(R).rightColSecond,(l,I)=>(s(),o("div",{key:l.id,class:M(["project",[`-${c(l.realIndex).value.colSize}`,{"-top-shift":l.realIndex===5}]])},[f(G,{"y-to":c(l.realIndex).value.parallax_y_to,"y-from":c(l.realIndex).value.parallax_y_from},{default:P(()=>[f(n,{type:c(l.realIndex).value.type,project:l,"display-category":!e(t).intendedTemplate||e(t).intendedTemplate!==e(B),onMouseover:re=>e(S)(!0,l),onMouseleave:i[5]||(i[5]=re=>e(S)(!1))},null,8,["type","project","display-category","onMouseover"])]),_:2},1032,["y-to","y-from"])],2))),128))],512)):m("",!0)])):m("",!0),f(oe,{visibility:e(z),color:e(L)},null,8,["visibility","color"])],512)]),_:1})])],2)}}},yt=V(it,[["__scopeId","data-v-8e871668"]]);export{yt as _,pt as s};
